<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labirinto</title>
    <style>
        body { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; font-family: Arial, sans-serif; background-color: #f0f0f0; }
        h1 { margin-bottom: 20px; }
        #instructions { margin-bottom: 20px; font-size: 1.2em; }
        #maze { display: grid; grid-template-columns: repeat(10, 30px); grid-template-rows: repeat(10, 30px); gap: 1px; position: relative; }
        .cell { width: 30px; height: 30px; background-color: #fff; border: 1px solid #ddd; }
        .wall { background-color: #333; }
        .start { background-color: #00f; }
        .end { background-color: #f00; }
        .player { background-color: #0f0; }
        #message { margin-top: 20px; font-size: 1.2em; }
        .controls { display: flex; margin-top: 20px; }
        .control-button { width: 60px; height: 60px; font-size: 1.5em; background-color: #007bff; color: #fff; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        .control-button:hover { background-color: #0056b3; }
    </style>
</head>
<body>
    <h1>Labirinto</h1>
    <p id="instructions">Use as setas do teclado ou os botões abaixo para mover o jogador (o quadrado verde) pelo labirinto e encontrar a saída (o quadrado vermelho).</p>
    <div id="maze"></div>
    <p id="message"></p>
    <div class="controls">
        <button class="control-button" id="up">↑</button>
        <div>
            <button class="control-button" id="left">←</button>
            <button class="control-button" id="right">→</button>
        </div>
        <button class="control-button" id="down">↓</button>
    </div>
    <script>
        const mazeElement = document.getElementById('maze');
        const messageElement = document.getElementById('message');
        const mazeSize = 10;
        const start = { x: 0, y: 0 };
        const end = { x: 9, y: 9 };
        let player = { x: 0, y: 0 };

        // Create a simple maze with walls and start/end positions
        const maze = Array.from({ length: mazeSize }, () => Array(mazeSize).fill(0));
        maze[start.y][start.x] = 1; // Start
        maze[end.y][end.x] = 2; // End
        for (let i = 1; i < mazeSize - 1; i++) {
            maze[i][Math.floor(Math.random() * (mazeSize - 2) + 1)] = 3;
        }

        function createMaze() {
            mazeElement.innerHTML = '';
            for (let y = 0; y < mazeSize; y++) {
                for (let x = 0; x < mazeSize; x++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    if (maze[y][x] === 1) cell.classList.add('start');
                    if (maze[y][x] === 2) cell.classList.add('end');
                    if (maze[y][x] === 3) cell.classList.add('wall');
                    mazeElement.appendChild(cell);
                }
            }
            updatePlayer();
        }

        function updatePlayer() {
            const cells = mazeElement.getElementsByClassName('cell');
            Array.from(cells).forEach((cell, index) => {
                if (index === player.y * mazeSize + player.x) {
                    cell.classList.add('player');
                } else {
                    cell.classList.remove('player');
                }
            });

            if (player.x === end.x && player.y === end.y) {
                messageElement.textContent = 'Parabéns! Você encontrou a saída!';
                document.removeEventListener('keydown', handleKeydown);
            }
        }

        function movePlayer(direction) {
            switch (direction) {
                case 'up': if (player.y > 0 && maze[player.y - 1][player.x] !== 3) player.y--; break;
                case 'down': if (player.y < mazeSize - 1 && maze[player.y + 1][player.x] !== 3) player.y++; break;
                case 'left': if (player.x > 0 && maze[player.y][player.x - 1] !== 3) player.x--; break;
                case 'right': if (player.x < mazeSize - 1 && maze[player.y][player.x + 1] !== 3) player.x++; break;
            }
            updatePlayer();
        }

        function handleKeydown(event) {
            switch (event.key) {
                case 'ArrowUp': movePlayer('up'); break;
                case 'ArrowDown': movePlayer('down'); break;
                case 'ArrowLeft': movePlayer('left'); break;
                case 'ArrowRight': movePlayer('right'); break;
            }
        }

        document.getElementById('up').addEventListener('click', () => movePlayer('up'));
        document.getElementById('down').addEventListener('click', () => movePlayer('down'));
        document.getElementById('left').addEventListener('click', () => movePlayer('left'));
        document.getElementById('right').addEventListener('click', () => movePlayer('right'));

        createMaze();
        document.addEventListener('keydown', handleKeydown);
    </script>
</body>
</html>
